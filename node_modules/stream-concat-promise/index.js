"use strict";

var _interopRequire = function (obj) { return obj && obj.__esModule ? obj["default"] : obj; };

var concat = _interopRequire(require("concat-stream"));

var Promise = _interopRequire(require("promise"));

module.exports = function (stream, opts) {
  return new Promise(function (resolve, reject) {
    stream.on("error", reject);
    stream.pipe(concat(opts, resolve));
  });
};